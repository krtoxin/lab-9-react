<svg xmlns="http://www.w3.org/2000/svg" width="980" height="580" viewBox="0 0 980 580">
  <defs>
    <style>
      .box { fill:#fff; stroke:#333; stroke-width:1.5; rx:8; ry:8; }
      .title { font:600 14px Inter, system-ui, sans-serif; fill:#222; }
      .note { font:12px Inter, system-ui, sans-serif; fill:#555; }
      .data { fill:#f5f5f5; stroke:#666; }
      .edge { stroke:#777; stroke-width:1.4; fill:none; marker-end:url(#arrow); }
      .edgeLbl { font:12px Inter, system-ui, sans-serif; fill:#333; }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerWidth="8" markerHeight="6" orient="auto">
      <path d="M0,0 L10,5 L0,10 Z" fill="#777"/>
    </marker>
  </defs>

  <!-- App -->
  <rect x="380" y="40" width="220" height="70" class="box" fill="#e1f0ff" stroke="#2466b3"/>
  <text x="395" y="70" class="title">App</text>
  <text x="395" y="90" class="note">renders AddressTable • state: none</text>

  <!-- AddressTable -->
  <rect x="370" y="150" width="240" height="100" class="box" fill="#e8f5e9" stroke="#2e7d32"/>
  <text x="385" y="180" class="title">AddressTable</text>
  <text x="385" y="200" class="note">uses useAddressBook (hook)</text>
  <text x="385" y="220" class="note">props: none • state: in hook</text>

  <!-- Hook -->
  <rect x="60" y="140" width="300" height="140" class="box" fill="#fff8e1" stroke="#d6b656"/>
  <text x="75" y="170" class="title">useAddressBook</text>
  <text x="75" y="190" class="note">state: items(filtered), query, editingId, editDraft</text>
  <text x="75" y="210" class="note">+add() +remove() +startEdit() +saveEdit() +cancelEdit()</text>
  <text x="75" y="230" class="note">+setQuery(value)</text>

  <!-- AddForm -->
  <rect x="100" y="340" width="220" height="70" class="box" fill="#f3e5f5" stroke="#7b1fa2"/>
  <text x="115" y="372" class="title">AddForm</text>
  <text x="115" y="392" class="note">props: onAdd</text>

  <!-- Controls -->
  <rect x="370" y="340" width="240" height="70" class="box" fill="#e0f7fa" stroke="#00838f"/>
  <text x="385" y="372" class="title">Controls</text>
  <text x="385" y="392" class="note">props: query, setQuery</text>

  <!-- RowItem -->
  <rect x="660" y="335" width="260" height="80" class="box" fill="#ffebee" stroke="#c62828"/>
  <text x="675" y="365" class="title">RowItem</text>
  <text x="675" y="385" class="note">props: book, isEditing, onStartEdit, onSave, onCancel</text>

  <!-- Types & Storage -->
  <rect x="720" y="120" width="200" height="80" class="box data"/>
  <text x="735" y="150" class="title">types.Book</text>
  <text x="735" y="170" class="note">id, firstName, lastName, phone</text>

  <rect x="720" y="220" width="200" height="80" class="box data"/>
  <text x="735" y="250" class="title">storage</text>
  <text x="735" y="270" class="note">loadBooks, saveBooks, generateId</text>

  <!-- Downward edges -->
  <path d="M490,110 L490,150" class="edge"/>
  <path d="M370,200 C330,200 300,210 300,210" class="edge"/>
  <text x="310" y="195" class="edgeLbl">hook</text>
  <path d="M490,250 L490,340" class="edge"/>
  <text x="500" y="300" class="edgeLbl">search ↓</text>
  <path d="M610,230 C670,260 720,260 720,260" class="edge"/>
  <path d="M610,210 C720,190 720,160 720,160" class="edge"/>

  <!-- From AddressTable to AddForm/RowItem -->
  <path d="M430,250 C340,300 210,330 210,340" class="edge"/>
  <text x="240" y="318" class="edgeLbl">onAdd ↓</text>
  <path d="M610,250 C700,300 780,320 790,335" class="edge"/>
  <text x="720" y="318" class="edgeLbl">rows ↓</text>

  <!-- Upward callback edges (dashed) -->
  <path d="M210,340 C300,300 370,280 430,250" class="edge" stroke-dasharray="6 6"/>
  <text x="275" y="318" class="edgeLbl">onAdd(book) ↑</text>
  <path d="M790,335 C680,300 610,280 490,250" class="edge" stroke-dasharray="6 6"/>
  <text x="650" y="318" class="edgeLbl">onStartEdit/onSave/onCancel ↑</text>
  <path d="M490,340 C490,310 490,290 490,250" class="edge" stroke-dasharray="6 6"/>
  <text x="498" y="312" class="edgeLbl">setQuery ↑</text>

  <!-- Notes -->
  <rect x="60" y="455" width="860" height="90" class="box" fill="#fafafa" stroke="#bdbdbd"/>
  <text x="75" y="485" class="note">Validation: required firstName/lastName/phone (red messages)</text>
  <text x="75" y="505" class="note">Empty state: "No data to display."</text>
  <text x="75" y="525" class="note">Persistence: localStorage</text>
</svg>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="520" viewBox="0 0 900 520">
  <defs>
    <style>
      .box { fill:#ffffff; stroke:#333333; stroke-width:1.5; rx:8; ry:8; }
      .title { font: 600 14px sans-serif; fill:#222; }
      .note { font: 12px sans-serif; fill:#555; }
      .data { fill:#f5f5f5; stroke:#666; }
      .line { stroke:#888; stroke-width:1.25; marker-end:url(#arrow); }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="10" refY="5" markerUnits="strokeWidth" markerWidth="8" markerHeight="6" orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#888"/>
    </marker>
  </defs>

  <rect x="40" y="40" width="220" height="70" class="box"/>
  <text x="60" y="75" class="title">App</text>
  <text x="60" y="95" class="note">state, persistence, filtering</text>

  <rect x="40" y="150" width="260" height="70" class="box"/>
  <text x="60" y="185" class="title">Add Form</text>
  <text x="60" y="205" class="note">required: firstName, lastName, phone</text>

  <rect x="330" y="150" width="220" height="70" class="box"/>
  <text x="350" y="185" class="title">Search</text>
  <text x="350" y="205" class="note">filter by first/last/phone</text>

  <rect x="40" y="260" width="510" height="120" class="box"/>
  <text x="60" y="295" class="title">Table</text>
  <text x="60" y="315" class="note">columns: id, First Name, Last Name, Phone</text>
  <text x="60" y="335" class="note">inline edit with non-empty validation</text>

  <rect x="630" y="60" width="200" height="70" class="box data"/>
  <text x="650" y="95" class="title">types.Book</text>
  <text x="650" y="115" class="note">id, firstName, lastName, phone</text>

  <rect x="610" y="170" width="240" height="90" class="box data"/>
  <text x="630" y="205" class="title">storage</text>
  <text x="630" y="225" class="note">loadBooks, saveBooks, generateId</text>

  <line x1="150" y1="110" x2="170" y2="150" class="line"/>
  <line x1="240" y1="110" x2="390" y2="150" class="line"/>
  <line x1="220" y1="110" x2="250" y2="260" class="line"/>
  <line x1="260" y1="75" x2="630" y2="95" class="line"/>
  <line x1="260" y1="95" x2="610" y2="215" class="line"/>

  <text x="40" y="410" class="note">Empty state: "No data to display."</text>
  <text x="40" y="435" class="note">Validation messages: red text, e.g., "The first name is required"</text>
  <text x="40" y="460" class="note">Persistence: localStorage</text>
</svg>


